{{- if eq .chezmoi.os "windows" }}
# basic.yaml hash: {{ include ".chezmoidata/windows/basic.yaml" | sha256sum }}

Write-Host "Installing Windows basic packages via winget..."

if (-not (Get-Command winget -ErrorAction SilentlyContinue)) {
    Write-Host "winget not found, skipping package installation"
    exit 0
}

{{ range .packages.windows.winget -}}
Write-Host "Installing: {{ . }}"
winget install --id {{ . | quote }} --silent --accept-package-agreements --accept-source-agreements
{{ end -}}

Write-Host "Windows basic packages installed"
{{- end }}
